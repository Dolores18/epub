# èœå•äº¤äº’ä¼˜åŒ–

## åŠŸèƒ½æ¦‚è¿°

ä¼˜åŒ–èœå•æ çš„äº¤äº’ä½“éªŒï¼Œè®©ç”¨æˆ·å¯ä»¥é€šè¿‡ç‚¹å‡»éæŒ‰é’®åŒºåŸŸæ¥éšè—èœå•ï¼Œæä¾›æ›´ç›´è§‚çš„æ“ä½œæ–¹å¼ã€‚

## äº¤äº’æ”¹è¿›

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

1. **ç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­èœå•**
   - ç‚¹å‡»åº•éƒ¨èœå•æ çš„éæŒ‰é’®åŒºåŸŸ â†’ éšè—èœå•
   - ç‚¹å‡»ä¾§è¾¹æ çš„ç©ºç™½åŒºåŸŸ â†’ éšè—ä¾§è¾¹æ 
   - ç‚¹å‡»è®¾ç½®é¢æ¿çš„ç©ºç™½åŒºåŸŸ â†’ éšè—è®¾ç½®é¢æ¿

2. **æ™ºèƒ½åŒºåŸŸè¯†åˆ«**
   - è‡ªåŠ¨è¯†åˆ«æŒ‰é’®ã€è¾“å…¥æ¡†ã€æ»‘å—ç­‰äº¤äº’å…ƒç´ 
   - åªæœ‰ç‚¹å‡»çœŸæ­£çš„ç©ºç™½åŒºåŸŸæ‰ä¼šå…³é—­èœå•
   - ä¿æŠ¤ç”¨æˆ·çš„æ­£å¸¸æ“ä½œä¸è¢«è¯¯è§¦

3. **å…¨å±€ç‚¹å‡»å¤„ç†**
   - ç‚¹å‡»é˜…è¯»å™¨å¤–éƒ¨åŒºåŸŸå…³é—­æ‰€æœ‰é¢æ¿
   - ESCé”®å¿«é€Ÿå…³é—­æ‰€æœ‰é¢æ¿
   - æ™ºèƒ½åˆ¤æ–­ç‚¹å‡»ä½ç½®

### ğŸ”§ æŠ€æœ¯å®ç°

#### 1. åŒºåŸŸæ£€æµ‹é€»è¾‘
```javascript
// æ£€æŸ¥ç‚¹å‡»çš„æ˜¯å¦æ˜¯äº¤äº’å…ƒç´ 
const isButton = e.target.tagName === 'BUTTON' || 
               e.target.closest('button') || 
               e.target.tagName === 'INPUT' ||
               e.target.tagName === 'SELECT' ||
               e.target.closest('.nav-controls') ||
               e.target.closest('.function-controls') ||
               e.target.closest('.progress');

if (!isButton) {
    hideBottomMenu(); // éšè—èœå•
}
```

#### 2. è‡ªåŠ¨éšè—æœºåˆ¶
```javascript
let menuAutoHideTimer = null;

function showBottomMenu() {
    // 5ç§’åè‡ªåŠ¨éšè—
    menuAutoHideTimer = setTimeout(() => {
        hideBottomMenu();
    }, 5000);
}

// ç”¨æˆ·äº¤äº’æ—¶é‡ç½®å®šæ—¶å™¨
function keepMenuVisible() {
    if (menuAutoHideTimer) {
        clearTimeout(menuAutoHideTimer);
        menuAutoHideTimer = setTimeout(() => {
            hideBottomMenu();
        }, 5000);
    }
}
```

#### 3. é¼ æ ‡æ‚¬åœä¿æŒ
```javascript
bottomMenu.addEventListener('mouseenter', function() {
    if (bottomMenu.classList.contains('show')) {
        keepMenuVisible(); // é‡ç½®è‡ªåŠ¨éšè—å®šæ—¶å™¨
    }
});
```

### ğŸ¨ è§†è§‰åé¦ˆ

#### 1. å…‰æ ‡æç¤º
```css
.bottom-menu {
    cursor: pointer; /* æç¤ºå¯ä»¥ç‚¹å‡»å…³é—­ */
}

/* æŒ‰é’®åŒºåŸŸä¿æŒé»˜è®¤å…‰æ ‡ */
.bottom-menu .nav-controls,
.bottom-menu .function-controls {
    cursor: default;
}
```

#### 2. ä½¿ç”¨æç¤º
```css
.bottom-menu::before {
    content: "ç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­èœå•";
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.7rem;
    opacity: 0.7;
    background: rgba(0, 0, 0, 0.6);
    padding: 0.2rem 0.5rem;
    border-radius: 3px;
}
```

## ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### âœ… æ”¹è¿›å‰åå¯¹æ¯”

#### æ”¹è¿›å‰ï¼š
- âŒ åªèƒ½é€šè¿‡ç‰¹å®šæŒ‰é’®å…³é—­èœå•
- âŒ ç”¨æˆ·éœ€è¦å¯»æ‰¾å…³é—­æŒ‰é’®
- âŒ æ“ä½œä¸å¤Ÿç›´è§‚
- âŒ èœå•å¯èƒ½é•¿æ—¶é—´å ç”¨å±å¹•ç©ºé—´

#### æ”¹è¿›åï¼š
- âœ… ç‚¹å‡»ç©ºç™½åŒºåŸŸå³å¯å…³é—­
- âœ… ç¬¦åˆç”¨æˆ·ç›´è§‰æ“ä½œä¹ æƒ¯
- âœ… æ™ºèƒ½è¯†åˆ«äº¤äº’åŒºåŸŸ
- âœ… è‡ªåŠ¨éšè— + æ‰‹åŠ¨æ§åˆ¶
- âœ… é¼ æ ‡æ‚¬åœä¿æŒå¯è§
- âœ… å¤šç§å…³é—­æ–¹å¼ï¼ˆç‚¹å‡»ã€ESCé”®ã€è‡ªåŠ¨ï¼‰

### ğŸ¯ äº¤äº’å±‚æ¬¡

1. **ä¸»è¦æ“ä½œ**ï¼šç‚¹å‡»æŒ‰é’®æ‰§è¡ŒåŠŸèƒ½
2. **æ¬¡è¦æ“ä½œ**ï¼šç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­èœå•
3. **å¿«æ·æ“ä½œ**ï¼šESCé”®å…³é—­æ‰€æœ‰é¢æ¿
4. **è‡ªåŠ¨æ“ä½œ**ï¼š5ç§’åè‡ªåŠ¨éšè—

### ğŸ“± é€‚é…ä¸åŒè®¾å¤‡

#### æ¡Œé¢è®¾å¤‡ï¼š
- é¼ æ ‡æ‚¬åœä¿æŒèœå•å¯è§
- ç²¾ç¡®çš„ç‚¹å‡»åŒºåŸŸæ£€æµ‹
- å¤šç§å…³é—­æ–¹å¼

#### ç§»åŠ¨è®¾å¤‡ï¼š
- è§¦æ‘¸å‹å¥½çš„äº¤äº’åŒºåŸŸ
- è‡ªåŠ¨éšè—æœºåˆ¶æ›´é‡è¦
- ç®€åŒ–çš„æ“ä½œé€»è¾‘

## å®ç°ç»†èŠ‚

### ğŸ” äº‹ä»¶å¤„ç†ä¼˜å…ˆçº§

1. **æŒ‰é’®ç‚¹å‡»** â†’ æ‰§è¡ŒåŠŸèƒ½ + ä¿æŒèœå•å¯è§
2. **ç©ºç™½åŒºåŸŸç‚¹å‡»** â†’ å…³é—­èœå•
3. **å¤–éƒ¨åŒºåŸŸç‚¹å‡»** â†’ å…³é—­æ‰€æœ‰é¢æ¿
4. **ESCé”®** â†’ å¼ºåˆ¶å…³é—­æ‰€æœ‰é¢æ¿

### ğŸ›¡ï¸ é˜²è¯¯è§¦æœºåˆ¶

```javascript
// ç²¾ç¡®è¯†åˆ«äº¤äº’å…ƒç´ 
const isInteractive = e.target.tagName === 'BUTTON' || 
                     e.target.closest('button') ||
                     e.target.classList.contains('toc-item') ||
                     e.target.tagName === 'INPUT' ||
                     e.target.tagName === 'SELECT';

// åªæœ‰çœŸæ­£çš„ç©ºç™½åŒºåŸŸæ‰è§¦å‘å…³é—­
if (!isInteractive && e.target === menuContainer) {
    hideMenu();
}
```

### â±ï¸ å®šæ—¶å™¨ç®¡ç†

```javascript
// é¿å…å®šæ—¶å™¨å†²çª
function clearMenuTimer() {
    if (menuAutoHideTimer) {
        clearTimeout(menuAutoHideTimer);
        menuAutoHideTimer = null;
    }
}

// é‡ç½®å®šæ—¶å™¨
function resetMenuTimer() {
    clearMenuTimer();
    menuAutoHideTimer = setTimeout(hideBottomMenu, 5000);
}
```

## ç”¨æˆ·åé¦ˆ

è¿™ç§äº¤äº’æ–¹å¼ç¬¦åˆç°ä»£åº”ç”¨çš„æ ‡å‡†åšæ³•ï¼š

- **ç±»ä¼¼ç§»åŠ¨åº”ç”¨**ï¼šç‚¹å‡»é®ç½©å±‚å…³é—­å¼¹çª—
- **ç±»ä¼¼æ¡Œé¢è½¯ä»¶**ï¼šç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­èœå•
- **ç¬¦åˆç›´è§‰**ï¼šç”¨æˆ·æœŸæœ›çš„è‡ªç„¶æ“ä½œ
- **æé«˜æ•ˆç‡**ï¼šå‡å°‘ä¸å¿…è¦çš„ç‚¹å‡»æ­¥éª¤

é€šè¿‡è¿™äº›æ”¹è¿›ï¼Œèœå•ç³»ç»Ÿå˜å¾—æ›´åŠ ç”¨æˆ·å‹å¥½ï¼Œæ—¢ä¿æŒäº†åŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œåˆæä¾›äº†ç›´è§‚çš„æ“ä½œä½“éªŒã€‚