# EPUB阅读器主题功能使用说明

## 功能概述

EPUB阅读器现在支持多种阅读主题，让您可以根据不同的阅读环境和个人喜好选择最适合的显示效果。

## 可用主题

1. **无主题** - 系统默认样式，不应用任何主题
2. **默认** - 经典的白色背景，适合日间阅读
3. **灰色** - 柔和的灰色背景，减少对比度
4. **米色** - 温暖的米色调，减少蓝光刺激
5. **青草** - 温和的绿色调，减少眼部疲劳
6. **樱桃** - 温暖的粉色调，柔和舒适
7. **天空** - 清新的蓝色调，清爽明亮
8. **Solarized** - 经典的程序员主题，护眼配色
9. **深色** - 深色背景，适合夜间阅读

## 使用方法

### 方法一：通过菜单选择
1. 点击阅读界面右下角的菜单按钮（☰）
2. 在弹出的底部菜单中点击主题按钮（🎨）
3. 在主题选择面板中点击您喜欢的主题
4. 主题会立即应用，并自动保存您的选择

### 方法二：键盘快捷键
- 按 `H` 键可以快速循环切换所有主题
- 按 `M` 键打开/关闭底部菜单
- 按 `ESC` 键关闭所有面板

## 主题特点

### 青草主题
- 背景色：浅绿米色 (#d7dbbd)
- 文字色：深绿色 (#232c16)
- 链接色：森林绿 (#177b4d)
- 适合：长时间阅读，减少眼部疲劳

### 深色主题
- 背景色：深灰色 (#1a1a1a)
- 文字色：浅灰色 (#e0e0e0)
- 链接色：蓝色 (#4a9eff)
- 适合：夜间阅读，减少屏幕亮度

### 护眼米色
- 背景色：米色 (#f4f1e8)
- 文字色：深棕色 (#3c3530)
- 链接色：棕色 (#8b4513)
- 适合：长时间阅读，减少蓝光刺激

## 技术实现

- 主题样式通过CSS文件动态加载
- 主题选择会保存到本地存储，下次打开时自动应用
- 主题不仅影响界面背景，还会应用到EPUB内容本身
- 支持响应式设计，在移动设备上也能正常使用

## 文件结构

```
assets/
├── css/
│   ├── epub-reader.css          # 主样式文件
│   └── theme/
│       ├── epub-default-theme.css    # 默认主题
│       ├── epub-gray-theme.css       # 灰色主题
│       ├── epub-sepia-theme.css      # 米色主题
│       ├── epub-grass-theme.css      # 青草主题
│       ├── epub-cherry-theme.css     # 樱桃主题
│       ├── epub-sky-theme.css        # 天空主题
│       ├── epub-solarized-theme.css  # Solarized主题
│       └── epub-dark-theme.css       # 深色主题
├── html/
│   ├── theme-selector-panel.html    # 主题选择面板HTML
│   └── theme-css-links.html         # 主题CSS链接
└── js/
    ├── html-loader.js           # HTML动态加载器
    ├── menu.js                  # 菜单和主题管理
    └── epub-reader.js           # 主要阅读器逻辑
```

## 自定义主题

如果您想添加自己的主题：

1. 在 `assets/css/theme/` 目录下创建新的CSS文件
2. 参考现有主题文件的结构编写样式
3. 在 `epub-reader.html` 中添加对应的 `<link>` 标签
4. 在 `menu.js` 的 `ThemeManager` 中添加主题配置

## 注意事项

- 主题切换是实时的，无需刷新页面
- 主题设置会自动保存，重新打开阅读器时会恢复上次的选择
- 在某些复杂的EPUB文件中，主题可能需要几秒钟才能完全应用
- 如果遇到主题显示问题，可以尝试刷新页面或重新选择主题